<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <form>
      <input type="email" name="email" placeholder="email" />
      <input type="text" name="username" placeholder="username" />
      <input type="password" name="password" placeholder="password" />
      <input type="password" name="password2" placeholder="confirm password" />
      <label for="isArtist">Are you an artist?</label>
      <input class="isArtist" type="checkbox" name="isArtist" id="">
      <input type="text" name="areaCode" id="">
      <select name="" id="">
        <option value="Orange">Orange County</option>
        <option value="Los Angeles">Los Angeles County</option>
        <option value="San Diego">San Diego County</option>
      </select>
      <button class="addCounty" >Add</button>
      <input type="submit" value="Submit" />
    </form>

    <div>
      <div class="errors"></div>
      <h1>Drone Name</h1>
      <p class="name"></p>
      <h2>Release Year</h2>
      <p class="year"></p>
      <h3 class="mantitle">Manufacturer</h3>
      <p class="man"></p>
    </div>
  </body>
  <script>
const addCounty = document.querySelector('.addCounty');
    addCounty.addEventListener('click', addCountyInput)
    function addCountyInput(e){
        e.preventDefault();

        const form = document.querySelector('form');
        const select = document.querySelector('select');
        const input = document.createElement('select');
        input.setAttribute('name', 'areaCode')
        input.setAttribute('id', 'areaCode')
        input.innerHTML =  `<option value="Orange">Orange County</option>
        <option value="Los Angeles">Los Angeles County</option>
        <option value="San Diego">San Diego County</option>`
        form.insertBefore(input, select)


    }
    const isArtist = document.querySelector('.isArtist');
    isArtist.addEventListener('change', (e) => {

        if (e.target.checked){
            isArtist.value = true

        } else {
            isArtist.value = false
        }
        console.log(isArtist.value)
    })
        // const form = document.querySelector('form');
        // form.addEventListener('submit', (e) => {
        //     e.preventDefault();
        //     const formData = new FormData(form);
        //     const data = Object.fromEntries(formData);


        //     fetch(`http://localhost:5000/auth/signup`, 
        //     {
        //         method: 'post', body: JSON.stringify(data), headers: {'Content-Type': 'application/json', credentials: 'include'}
        //     })
        //     .then(res => res.json())
        //     .then(data => {
        //         console.log(data)

        //     })
        // })


    //   const data = localStorage.getItem('data')
    //   console.log(data)
    //     if(data){
    //         const formatted = JSON.parse(data)

    //         document.querySelector('.name').textContent = formatted.name;
    //         document.querySelector('.year').textContent = formatted.year;
    //         document.querySelector('.man').textContent = formatted .manufacturer

    //     }

    //     const form = document.querySelector('form');
    //     form.addEventListener('submit', (e) => {
    //         e.preventDefault();
    //         const formData = new FormData(form);
    //         const data = Object.fromEntries(formData);


    //         fetch(`http://localhost:5000/drones?name=${data.name}&year=${data.year}&manufacturer=${data.manufacturer}`)
    //         .then(res => res.json())
    //         .then(data => {
    //             document.querySelector('.name').textContent = data.name;
    //             document.querySelector('.year').textContent = data.year;
    //             document.querySelector('.man').textContent = data.manufacturer;

    //             if(!data.manufacturer){
    //                 document.querySelector('.man').classList.add('hidden')
    //             }

    //             if(!data.name){
    //                 document.querySelector('.name').classList.add('hidden')
    //             }

    //             if(!data.year){
    //                 document.querySelector('.year').classList.add('hidden')
    //             }
    //             if(!data.name && !data.year && !data.manufacturer){

    //                 document.querySelector('.errors').textContent = 'No results found'

    //             }
    //             if(data){
    //                 localStorage.setItem('data', JSON.stringify(data))
    //             }

    //         })
        // })
  </script>
</html>
